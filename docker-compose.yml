version: '1'
services:
    nodeapp:
        container_name: 'nodeapp'
        build: .
        ports:
            - '8001:8001'
        environment:
            - REDIS_URL=redis://redis:6379/0
        depends_on:
            - topic-redis
        links:
            - topic-redis
    topic-redis:
        container_name: 'noderedis'
        image: redis:alpine
        # volumes:
        # - ./redis.conf:/usr/local/etc/redis/redis.conf
        command: redis-server --port 6379
        # extra_hosts:
        #     - 'host.docker.internal'
        ports:
            - 6379:6379
